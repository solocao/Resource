<!DOCTYPE html>
<!-- saved from url=(0044)http://www.cnblogs.com/LiZhiW/p/4313493.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>XStream使用详解 - 程序人生2014 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./XStream使用详解 - 程序人生2014 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./XStream使用详解 - 程序人生2014 - 博客园_files/bundle-nature.css">
<link type="text/css" rel="stylesheet" href="./XStream使用详解 - 程序人生2014 - 博客园_files/175039.css">
<link id="mobile-style" media="only screen and (max-width: 768px)" type="text/css" rel="stylesheet" href="./XStream使用详解 - 程序人生2014 - 博客园_files/bundle-nature-mobile.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/LiZhiW/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/LiZhiW/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/LiZhiW/wlwmanifest.xml">
<script src="./XStream使用详解 - 程序人生2014 - 博客园_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'LiZhiW', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="./XStream使用详解 - 程序人生2014 - 博客园_files/blog-common.js" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>
<!--PageBeginHtml Block Begin-->
<!-- 代码高亮CSS -->
<link type="text/css" rel="stylesheet" href="./XStream使用详解 - 程序人生2014 - 博客园_files/wiz_code_highlight.css">
<!-- 
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeDefault.css"></link>
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeDjango.css"></link>
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeEclipse.css"></link>
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeEmacs.css"></link>
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeFadeToGrey.css"></link>
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeMDUltra.css"></link>
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeMidnight.css"></link>
<link type="text/css" rel="stylesheet" href="http://files.cnblogs.com/LiZhiW/shThemeRDark.css"></link>
-->

<!-- 百度分享按钮 -->
<!--
<script type="text/javascript" id="bdshare_js" data="type=slide&amp;img=0&amp;pos=right&amp;uid=6507240" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000);
</script>
-->

<!-- 自定义样式 -->
<!--
<link type="text/css" rel="Stylesheet" href="http://files.cnblogs.com/LiZhiW/MyStyleSheet.css">
-->

<!-- 超链接打开新页面 -->
<!--
<base target="_blank"/>
-->
<!--PageBeginHtml Block End-->

<!--done-->
<div id="banner"><div id="bnr_pic">
<!--done-->
<div class="header">
	<div class="headerText">
		<a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/LiZhiW/">程序人生2014</a><br>
	</div><br>
	<div class="headerDis"></div>
</div>
</div></div>
<div id="main">
	<!-- left starts -->
	<div id="left">
		<div id="mystats">
			<br>
				<div id="blog_stats">
<!--done-->
<div class="blogStats">
随笔 - 65&nbsp;
文章 - 0&nbsp;
评论 - 7&nbsp;

</div></div>
			
		</div>
		<div id="mylinks">
<!--done-->
<a id="blog_nav_sitehome" class="menu" href="http://www.cnblogs.com/">博客园</a>&nbsp;&nbsp;<a id="blog_nav_myhome" class="menu" href="http://www.cnblogs.com/LiZhiW/">首页</a>&nbsp;&nbsp;<a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a>&nbsp;&nbsp;<a id="blog_nav_contact" accesskey="9" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F2014">联系</a>&nbsp;&nbsp;<a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a>&nbsp;&nbsp;<a id="blog_nav_rss" class="menu" href="http://www.cnblogs.com/LiZhiW/rss">订阅</a>&nbsp;<a id="blog_nav_rss_image" href="http://www.cnblogs.com/LiZhiW/rss"><img src="./XStream使用详解 - 程序人生2014 - 博客园_files/xml.gif" alt="订阅"></a></div>
		<div id="topics">
			
<div id="post_detail">
<div class="post">
	<div class="postTitle">
		<h1><a id="cb_post_title_url" class="postTitle2" href="./XStream使用详解 - 程序人生2014 - 博客园_files/XStream使用详解 - 程序人生2014 - 博客园.html">XStream使用详解</a></h1>
	</div>
	<div id="cnblogs_post_body"><a name="_labelTop"></a><div id="navCategory"><p><b>阅读目录</b></p><ul><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelStart">开始</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label0">1.Xstream介绍</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label1">2.Xstream的基本使用</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label2">3.Xstream序列化重命名</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label3">4.Xstream注解的使用</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label4">5.Xstream自定义的转换器</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label5">6.Xstream对象流的使用</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label6">7.Xstream持久化API</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_label7">8.Xstream操作Json</a></li></ul></div><a name="_labelStart"></a><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label0"></a></div><h2><font face="Courier New">1.Xstream介绍</font></h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(1)Xstream介绍</font></b></span></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>Xstream是一种OXMapping 技术，是用来处理XML文件序列化的框架,在将JavaBean序列化，或将XML文件反序列化的时候，不需要其它辅助类和映射文件，使得XML序列化不再繁索。Xstream也可以将JavaBean序列化成Json或反序列化，使用非常方便。</font></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(2)Xstream的简单例子</font></b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span><span class="com">//JavaBean实体类</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="pln">name</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age</span><span class="pun">=</span><span class="pln">age</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="lit">@Override</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//XML序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//XML反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln"><font face="Courier New">		</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">JettisonMappedXmlDriver</span><span class="pun">());</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">setMode</span><span class="pun">(</span><span class="typ">XStream</span><span class="pun">.</span><span class="pln">NO_REFERENCES</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//Json序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> json</span><span class="pun">=</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">json</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//Json反序列</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">json</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pun">{</span><span class="str">"test.Person"</span><span class="pun">:{</span><span class="str">"name"</span><span class="pun">:</span><span class="str">"张三"</span><span class="pun">,</span><span class="str">"age"</span><span class="pun">:</span><span class="lit">19</span><span class="pun">}}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span></font></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><b>注意：</b><span style="font-size: 10.5pt; line-height: 1.5;">Xstream序列化XML时需要引用的jar包：xstream-[version].jar、xpp3-[version].jar、xmlpull-[version].jar。Xstream序列化Json需要引用的jar包：jettison-[version].jar。</span></font></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>使用Xstream序列化时，对JavaBean没有任何限制。JavaBean的字段可以是私有的，也可以没有getter或setter方法，还可以没有默认的构造函数。</font></div><div><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label1"></a></div><h2><font face="Courier New">2.Xstream的基本使用</font></h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(1)Xstream序列化XML</font></b></span></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>Xstream序列化XML时可以允许用户使用不同的XML解析器，用户可以使用一个标准的JAXP DOM解析器或自Java6集成StAX解析器。这样用户就不需要依赖xpp3-[version].jar。</font></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>Xstream序列化XML时，也可以对XML节点重命名。</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//XStream xstream = new XStream();//需要XPP3库</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//XStream xstream = new XStream(new DomDriver());//不需要XPP3库</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StaxDriver</span><span class="pun">());</span><span class="com">//不需要XPP3库开始使用Java6 </span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">alias</span><span class="pun">(</span><span class="str">"人"</span><span class="pun">,</span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="com">//为类名节点重命名</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//XML序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//XML反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> </span><span class="pun">?&gt;&lt;人&gt;&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;&lt;/人&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></font></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(2)Xstream序列化Json</font></b></span></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>Xstream序列化Json与序列化XML类似，例如：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">JettisonMappedXmlDriver</span><span class="pun">());</span><span class="com">//设置Json解析器</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">        xstream</span><span class="pun">.</span><span class="pln">setMode</span><span class="pun">(</span><span class="typ">XStream</span><span class="pun">.</span><span class="pln">NO_REFERENCES</span><span class="pun">);</span><span class="com">//设置reference模型,不引用</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">alias</span><span class="pun">(</span><span class="str">"人"</span><span class="pun">,</span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="com">//为类名节点重命名</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//Json序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//Json反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">{</span><span class="str">"人"</span><span class="pun">:{</span><span class="str">"name"</span><span class="pun">:</span><span class="str">"张三"</span><span class="pun">,</span><span class="str">"age"</span><span class="pun">:</span><span class="lit">19</span><span class="pun">}}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></font></code></li></ol></pre></div><div><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label2"></a></div><h2><font face="Courier New">3.Xstream序列化重命名</font></h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(1)为包重命名：Xstream.aliasPackage()方法</font></b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">aliasPackage</span><span class="pun">(</span><span class="str">"com.lzw"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"test"</span><span class="pun">);</span><span class="com">//为包名称重命名</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">&lt;</span><span class="pln">com</span><span class="pun">.</span><span class="pln">lzw</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pun">&lt;/</span><span class="pln">com</span><span class="pun">.</span><span class="pln">lzw</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></font></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(2)为类重命名：Xstream.alias()方法</font></b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">alias</span><span class="pun">(</span><span class="str">"人"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="com">//为类名节点重命名</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun"><font face="Courier New">&lt;人&gt;</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pun"><font face="Courier New">&lt;/人&gt;</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></font></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(3)为字段重命名：Xstream.aliasField()方法</font></b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">aliasField</span><span class="pun">(</span><span class="str">"姓名"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="str">"name"</span><span class="pun">);</span><span class="com">//为类的字段节点重命名</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">aliasField</span><span class="pun">(</span><span class="str">"年龄"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="str">"age"</span><span class="pun">);</span><span class="com">//为类的字段节点重命名</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;姓名&gt;张三&lt;/姓名&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;年龄&gt;</span><span class="lit">19</span><span class="pun">&lt;/年龄&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></font></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(4)省略集合根节点：Xstream.addImplicitCollection()方法</font></b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pln"> friends</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pun">...</span><span class="pln"> friends</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">friends </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Arrays</span><span class="pun">.</span><span class="pln">asList</span><span class="pun">(</span><span class="pln">friends</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="lit">@Override</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">", friends="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> friends </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean </span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">,</span><span class="str">"李四"</span><span class="pun">,</span><span class="str">"王五"</span><span class="pun">,</span><span class="str">"赵六"</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">addImplicitCollection</span><span class="pun">(</span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="str">"friends"</span><span class="pun">);</span><span class="com">//省略集合根节点</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;李四&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;王五&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;赵六&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> friends</span><span class="pun">=[李四,</span><span class="pln"> </span><span class="pun">王五,</span><span class="pln"> </span><span class="pun">赵六]]</span></font></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(5)把字段节点设置成属性：Xstream.useAttributeFor()方法</font></b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean </span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">,</span><span class="str">"李四"</span><span class="pun">,</span><span class="str">"王五"</span><span class="pun">,</span><span class="str">"赵六"</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">useAttributeFor</span><span class="pun">(</span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="str">"name"</span><span class="pun">);</span><span class="com">//把字段节点设置成属性</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pln"> name</span><span class="pun">=</span><span class="str">"张三"</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">friends </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"java.util.Arrays$ArrayList"</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">a </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"string-array"</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;李四&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;王五&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;赵六&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">    </span><span class="pun">&lt;/</span><span class="pln">a</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;/</span><span class="pln">friends</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> friends</span><span class="pun">=[李四,</span><span class="pln"> </span><span class="pun">王五,</span><span class="pln"> </span><span class="pun">赵六]]</span></font></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b><font face="Courier New">(6)隐藏字段：xstream.omitField()方法</font></b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun"><font face="Courier New">{</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">{</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean </span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">,</span><span class="str">"李四"</span><span class="pun">,</span><span class="str">"王五"</span><span class="pun">,</span><span class="str">"赵六"</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><font face="Courier New"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">omitField</span><span class="pun">(</span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="str">"friends"</span><span class="pun">);</span><span class="com">//把字段节点隐藏</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="com">//反序列化</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pln">	</span><span class="pun">}</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun"><font face="Courier New">}</font></span></code></li></ol></pre></div></div><div><font face="Courier New"><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><font face="Courier New"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><font face="Courier New"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><font face="Courier New"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></font></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><font face="Courier New"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> friends</span><span class="pun">=</span><span class="kwd">null</span><span class="pun">]</span></font></code></li></ol></pre></div></div></div></div></div><div><font face="Courier New"><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label3"></a></div><h2>4.Xstream注解的使用</h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(1)设置Xstream应用注解</b></span></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>使用Xstream注解前需要对Xstream进行配置，可以使用两种方式：应用某个JavaBean类的注解或自动使用JavaBean类的注解。代码如下：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">xstream</span><span class="pun">.</span><span class="pln">processAnnotations</span><span class="pun">(</span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="com">//应用Person类的注解</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">xstream</span><span class="pun">.</span><span class="pln">autodetectAnnotations</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="com">//自动检测注解</span></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(2)重命名注解：@XStreamAlias()</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="lit">@XStreamAlias</span><span class="pun">(</span><span class="str">"人"</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamAlias</span><span class="pun">(</span><span class="str">"姓名"</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamAlias</span><span class="pun">(</span><span class="str">"年龄"</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamAlias</span><span class="pun">(</span><span class="str">"朋友"</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pln"> friends</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pun">...</span><span class="pln"> friends</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">friends </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Arrays</span><span class="pun">.</span><span class="pln">asList</span><span class="pun">(</span><span class="pln">friends</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">", friends="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> friends </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;人&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;姓名&gt;张三&lt;/姓名&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;年龄&gt;</span><span class="lit">19</span><span class="pun">&lt;/年龄&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;朋友</span><span class="pln"> </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"java.util.Arrays$ArrayList"</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">a </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"string-array"</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;李四&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;王五&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;赵六&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;/</span><span class="pln">a</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;/朋友&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;/人&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> friends</span><span class="pun">=[李四,</span><span class="pln"> </span><span class="pun">王五,</span><span class="pln"> </span><span class="pun">赵六]]</span></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(3)省略集合根节点：@XStreamImplicit</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="com">//@XStreamImplicit//只隐藏集合根节点</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamImplicit</span><span class="pun">(</span><span class="pln">itemFieldName</span><span class="pun">=</span><span class="str">"朋友"</span><span class="pun">)</span><span class="com">//设置重复的节点名，可能会导致无法反序列化</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> friends</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pun">...</span><span class="pln"> friends</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">friends </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Arrays</span><span class="pun">.</span><span class="pln">asList</span><span class="pun">(</span><span class="pln">friends</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">", friends="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> friends </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;朋友&gt;李四&lt;/朋友&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;朋友&gt;王五&lt;/朋友&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;朋友&gt;赵六&lt;/朋友&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> friends</span><span class="pun">=[李四,</span><span class="pln"> </span><span class="pun">王五,</span><span class="pln"> </span><span class="pun">赵六]]</span></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(4)把字段节点设置成属性：@XStreamAsAttribute</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamAsAttribute</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamAsAttribute</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> friends</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pun">...</span><span class="pln"> friends</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">friends </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Arrays</span><span class="pun">.</span><span class="pln">asList</span><span class="pun">(</span><span class="pln">friends</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">", friends="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> friends </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pln"> name</span><span class="pun">=</span><span class="str">"张三"</span><span class="pln"> age</span><span class="pun">=</span><span class="str">"19"</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">friends </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"java.util.Arrays$ArrayList"</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">a </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"string-array"</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;李四&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;王五&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">      </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;赵六&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;/</span><span class="pln">a</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;/</span><span class="pln">friends</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> friends</span><span class="pun">=[李四,</span><span class="pln"> </span><span class="pun">王五,</span><span class="pln"> </span><span class="pun">赵六]]</span></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(5)隐藏字段：@XStreamOmitField</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamOmitField</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> friends</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pun">...</span><span class="pln"> friends</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">friends </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Arrays</span><span class="pun">.</span><span class="pln">asList</span><span class="pun">(</span><span class="pln">friends</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">", friends="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> friends </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> friends</span><span class="pun">=</span><span class="kwd">null</span><span class="pun">]</span></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(6)设置转换器：@XStreamConverter()</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">        </span><span class="lit">@XStreamConverter</span><span class="pun">(</span><span class="pln">value</span><span class="pun">=</span><span class="typ">BooleanConverter</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln">booleans</span><span class="pun">={</span><span class="kwd">false</span><span class="pun">},</span><span class="pln">strings</span><span class="pun">={</span><span class="str">"男"</span><span class="pun">,</span><span class="str">"女"</span><span class="pun">})</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> sex</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> sex</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sex</span><span class="pun">=</span><span class="pln">sex</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">", sex="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> sex </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">sex</span><span class="pun">&gt;男&lt;/</span><span class="pln">sex</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> sex</span><span class="pun">=</span><span class="kwd">true</span><span class="pun">]</span></code></li></ol></pre></div><div><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label4"></a></div><h2>5.Xstream自定义的转换器</h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(1)Xstream自带的转换器</b></span></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>Xstream内部有许多转换器，用于JavaBean对象到XML或Json之间的转换。这些转换器的详细信息网址：http://xstream.codehaus.org/converters.html</div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(2)使用自定义的转换器</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getName</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setName</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getAge</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setAge</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PersonConverter</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">Converter</span><span class="pln"> </span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span><span class="com">//定义转换器能转换的JavaBean类型</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> canConvert</span><span class="pun">(</span><span class="typ">Class</span><span class="pln"> type</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> type</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="typ">Person</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span><span class="com">//把对象序列化成XML或Json</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> marshal</span><span class="pun">(</span><span class="typ">Object</span><span class="pln"> value</span><span class="pun">,</span><span class="pln"> </span><span class="typ">HierarchicalStreamWriter</span><span class="pln"> writer</span><span class="pun">,</span><span class="pln"> </span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="typ">MarshallingContext</span><span class="pln"> context</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> person </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln"> value</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">startNode</span><span class="pun">(</span><span class="str">"姓名"</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">setValue</span><span class="pun">(</span><span class="pln">person</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">endNode</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">startNode</span><span class="pun">(</span><span class="str">"年龄"</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">setValue</span><span class="pun">(</span><span class="pln">person</span><span class="pun">.</span><span class="pln">getAge</span><span class="pun">()+</span><span class="str">""</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">endNode</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">startNode</span><span class="pun">(</span><span class="str">"转换器"</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">setValue</span><span class="pun">(</span><span class="str">"自定义的转换器"</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">        writer</span><span class="pun">.</span><span class="pln">endNode</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span><span class="com">//把XML或Json反序列化成对象</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Object</span><span class="pln"> unmarshal</span><span class="pun">(</span><span class="typ">HierarchicalStreamReader</span><span class="pln"> reader</span><span class="pun">,</span><span class="pln"> </span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="typ">UnmarshallingContext</span><span class="pln"> context</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		   </span><span class="typ">Person</span><span class="pln"> person </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">""</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">           reader</span><span class="pun">.</span><span class="pln">moveDown</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">           person</span><span class="pun">.</span><span class="pln">setName</span><span class="pun">(</span><span class="pln">reader</span><span class="pun">.</span><span class="pln">getValue</span><span class="pun">());</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">           reader</span><span class="pun">.</span><span class="pln">moveUp</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">           reader</span><span class="pun">.</span><span class="pln">moveDown</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">           person</span><span class="pun">.</span><span class="pln">setAge</span><span class="pun">(</span><span class="typ">Integer</span><span class="pun">.</span><span class="pln">parseInt</span><span class="pun">(</span><span class="pln">reader</span><span class="pun">.</span><span class="pln">getValue</span><span class="pun">()));</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">           reader</span><span class="pun">.</span><span class="pln">moveUp</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">           </span><span class="kwd">return</span><span class="pln"> person</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean </span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">registerConverter</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">PersonConverter</span><span class="pun">());</span><span class="com">//注册转换器</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">		</span><span class="com">//序列化</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="com">//反序列化</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;姓名&gt;张三&lt;/姓名&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;年龄&gt;</span><span class="lit">19</span><span class="pun">&lt;/年龄&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;转换器&gt;自定义的转换器&lt;/转换器&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></code></li></ol></pre></div></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(3)常用的转换器接口与抽象类</b></span></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>SingleValueConverter：单值转换接口</div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>AbstractSingleValueConverter：单值转换抽象类</div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>Converter：常规转换器接口</div><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label5"></a></div><h2>6.Xstream对象流的使用</h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(1)Xstream对象输出流</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="pun">{</span><span class="pln">		</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="typ">ObjectOutputStream</span><span class="pln"> out </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">createObjectOutputStream</span><span class="pun">(</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		out</span><span class="pun">.</span><span class="pln">writeObject</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">12</span><span class="pun">));</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		out</span><span class="pun">.</span><span class="pln">writeObject</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"李四"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">));</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		out</span><span class="pun">.</span><span class="pln">writeObject</span><span class="pun">(</span><span class="str">"Hello"</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		out</span><span class="pun">.</span><span class="pln">writeInt</span><span class="pun">(</span><span class="lit">12345</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		out</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">&lt;</span><span class="pln">object</span><span class="pun">-</span><span class="pln">stream</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;张三&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">12</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">name</span><span class="pun">&gt;李四&lt;/</span><span class="pln">name</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">age</span><span class="pun">&gt;</span><span class="lit">19</span><span class="pun">&lt;/</span><span class="pln">age</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;/</span><span class="pln">test</span><span class="pun">.</span><span class="typ">Person</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;</span><span class="typ">Hello</span><span class="pun">&lt;/</span><span class="pln">string</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">  </span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">&gt;</span><span class="lit">12345</span><span class="pun">&lt;/</span><span class="kwd">int</span><span class="pun">&gt;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">&lt;/</span><span class="pln">object</span><span class="pun">-</span><span class="pln">stream</span><span class="pun">&gt;</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><b>注意：</b><span style="font-size: 10.5pt; line-height: 1.5;">XStream对象流是通过标准java.io.ObjectOutputStream和java.io.ObjectInputStream对象。</span><span style="font-size: 10.5pt; line-height: 1.5;">因为XML文档只能有一个根节点,必须包装在一个序列化的所有元素 额外的根节点。 这个根节点默认 &lt; object-stream &gt; 上面的例子所示。&nbsp;</span></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(2)Xstream对象输出流</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ClassNotFoundException</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="typ">String</span><span class="pln"> s</span><span class="pun">=</span><span class="str">"&lt;object-stream&gt;&lt;test.Person&gt;&lt;name&gt;张三&lt;/name&gt;&lt;age&gt;12&lt;/age&gt;&lt;/test.Person&gt;&lt;int&gt;12345&lt;/int&gt;&lt;/object-stream&gt;"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="typ">StringReader</span><span class="pln"> reader </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StringReader</span><span class="pun">(</span><span class="pln">s</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="typ">ObjectInputStream</span><span class="pln"> in </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">createObjectInputStream</span><span class="pun">(</span><span class="pln">reader</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">((</span><span class="typ">Person</span><span class="pun">)</span><span class="pln"> in</span><span class="pun">.</span><span class="pln">readObject</span><span class="pun">());</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">in</span><span class="pun">.</span><span class="pln">readInt</span><span class="pun">());</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">12</span><span class="pun">]</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="lit">12345</span></code></li></ol></pre></div><div><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label6"></a></div><h2>7.Xstream持久化API</h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(1)保存JavaBean对象</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ClassNotFoundException</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="typ">PersistenceStrategy</span><span class="pln"> strategy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">FilePersistenceStrategy</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="str">"D:\\tmp"</span><span class="pun">));</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="typ">List</span><span class="pln"> list </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XmlArrayList</span><span class="pun">(</span><span class="pln">strategy</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		list</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">13</span><span class="pun">));</span><span class="com">//保存数据</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		list</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"李四"</span><span class="pun">,</span><span class="lit">21</span><span class="pun">));</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		list</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"王五"</span><span class="pun">,</span><span class="lit">17</span><span class="pun">));</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：<span style="font-size: 10.5pt; line-height: 1.5;">如果我们检查D:\tmp目录,有三个文件:int@0.xml、int@1.xml、int@2.xml；每个对象都被序列化到XML文件里。</span></div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(2)读取并删除JavaBean对象</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ClassNotFoundException</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">		</span><span class="typ">PersistenceStrategy</span><span class="pln"> strategy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">FilePersistenceStrategy</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="str">"D:\\tmp"</span><span class="pun">));</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="typ">List</span><span class="pln"> list </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XmlArrayList</span><span class="pun">(</span><span class="pln">strategy</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Iterator</span><span class="pln"> it </span><span class="pun">=</span><span class="pln"> list</span><span class="pun">.</span><span class="pln">iterator</span><span class="pun">();</span><span class="pln"> it</span><span class="pun">.</span><span class="pln">hasNext</span><span class="pun">();)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">			</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">((</span><span class="typ">Person</span><span class="pun">)</span><span class="pln"> it</span><span class="pun">.</span><span class="pln">next</span><span class="pun">());</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">			it</span><span class="pun">.</span><span class="pln">remove</span><span class="pun">();</span><span class="com">//删除对象序列化文件</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">13</span><span class="pun">]</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=李四,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">21</span><span class="pun">]</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=王五,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">17</span><span class="pun">]</span></code></li></ol></pre></div><div><div style="text-align: right"><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#_labelTop">回到顶部</a><a name="_label7"></a></div><h2>8.Xstream操作Json</h2><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(1)Xstream序列化Json的重命名</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="lit">@XStreamAlias</span><span class="pun">(</span><span class="str">"人"</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamAlias</span><span class="pun">(</span><span class="str">"姓名"</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="lit">@XStreamAlias</span><span class="pun">(</span><span class="str">"年龄"</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">JettisonMappedXmlDriver</span><span class="pun">());</span><span class="com">//设置Json解析器</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">		xstream</span><span class="pun">.</span><span class="pln">autodetectAnnotations</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="com">//Json序列化</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		</span><span class="com">//Json反序列化</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		bean</span><span class="pun">=(</span><span class="typ">Person</span><span class="pun">)</span><span class="pln">xstream</span><span class="pun">.</span><span class="pln">fromXML</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">{</span><span class="str">"人"</span><span class="pun">:{</span><span class="str">"姓名"</span><span class="pun">:</span><span class="str">"张三"</span><span class="pun">,</span><span class="str">"年龄"</span><span class="pun">:</span><span class="lit">19</span><span class="pun">}}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="typ">Person</span><span class="pln"> </span><span class="pun">[</span><span class="pln">name</span><span class="pun">=张三,</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">19</span><span class="pun">]</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><b>注意：</b>Xstream序列化Json的重命名的方式与其序列化成XML的方式一样！</div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(2)去掉序列化Json的根节点</b></span></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> age</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">	</span><span class="lit">@Override</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Person [name="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", age="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test00</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">	</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="typ">Person</span><span class="pln"> bean</span><span class="pun">=</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"张三"</span><span class="pun">,</span><span class="lit">19</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="typ">XStream</span><span class="pln"> xstream </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XStream</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">JsonHierarchicalStreamDriver</span><span class="pun">()</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">		</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">			</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">HierarchicalStreamWriter</span><span class="pln"> createWriter</span><span class="pun">(</span><span class="typ">Writer</span><span class="pln"> writer</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">			</span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">				</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">JsonWriter</span><span class="pun">(</span><span class="pln">writer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">JsonWriter</span><span class="pun">.</span><span class="pln">DROP_ROOT_MODE</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">			</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="pun">});</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="com">//Json序列化</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		</span><span class="typ">String</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> xstream</span><span class="pun">.</span><span class="pln">toXML</span><span class="pun">(</span><span class="pln">bean</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>程序运行结果：</div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pun">{ </span></code><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"张三"</span><span class="pun">, </span><span class="str">"age"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">19 </span><span style="color: rgb(147, 161, 161);">}</span></li></ol></pre></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><b>注意：</b>去掉根节点后的Json串是不能反序列化的，因为XStream 不知道它的类型。</div><div><span data-wiz-span="data-wiz-span" style="font-size: 14pt;"><b>(3)Json的解析器区别</b></span></div><div><span style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span>前面两个例子使用了不同的Json解析器，这里说明他们的不同之处：</div><div><ol><ol><li>JettisonMappedXmlDriver：是支持序列化和反序列化Json的。<br></li><li>JsonHierarchicalStreamDriver：只支持序列化，不支持反序列化。</li></ol></ol></div></div></div></div></div></div></div></font></div><div><font face="Courier New">-------------------------------------------------------------------------------------------------------------------------------</font></div>



<br><br><div><a title="来自为知笔记(Wiz)" href="http://www.wiz.cn/i/6b461579">来自为知笔记(Wiz)</a></div><br><br><div id="div_img_collapse" style="display: none;"><img src="./XStream使用详解 - 程序人生2014 - 博客园_files/r_collapse.png"></div></div><div id="MySignature" style="display: block;"><div class="articleFooter">
<p>
如果，您认为阅读这篇博客让您有些收获，不妨点击一下右下角的推荐按钮。<br>
如果，您希望更容易地发现我的新博客，不妨<a style="font-weight: bold;" onclick="c_follow();" href="javascript:void(0);">关注</a>一下。因为，我的写作热情也离不开您的肯定支持。<br>
感谢您的阅读，如果您对我的博客所讲述的内容有兴趣，请继续关注我的后续博客。<span class="icon_smile"></span>
</p>
</div></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/LiZhiW/category/663000.html" target="_blank">序列化与反序列化</a></div>
<div id="EntryTag">标签: <a href="http://www.cnblogs.com/LiZhiW/tag/Java/">Java</a>, <a href="http://www.cnblogs.com/LiZhiW/tag/Json/">Json</a>, <a href="http://www.cnblogs.com/LiZhiW/tag/XML/">XML</a>, <a href="http://www.cnblogs.com/LiZhiW/tag/%E5%AF%B9%E8%B1%A1%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">对象反序列化</a>, <a href="http://www.cnblogs.com/LiZhiW/tag/%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96/">对象序列化</a></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(4313493,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
            <a id="green_channel_follow" onclick="follow(&#39;c2de9e33-5b85-e311-8d02-90b11c0b17d6&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./XStream使用详解 - 程序人生2014 - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./XStream使用详解 - 程序人生2014 - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/LiZhiW/" target="_blank"><img src="./XStream使用详解 - 程序人生2014 - 博客园_files/20140125090011.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/LiZhiW/">程序人生2014</a><br>
            <a href="http://home.cnblogs.com/u/LiZhiW/followees">关注 - 7</a><br>
            <a href="http://home.cnblogs.com/u/LiZhiW/followers">粉丝 - 111</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;c2de9e33-5b85-e311-8d02-90b11c0b17d6&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg"><div style="padding-bottom: 5px"><span class="icon_favorite" style="padding-top: 2px; padding-bottom: 2px"></span><a onclick="follow(&#39;c2de9e33-5b85-e311-8d02-90b11c0b17d6&#39;);" href="javascript:void(0);" style="font-weight: bold; padding-left: 5px;">关注 程序人生</a></div>
    <div class="diggit" onclick="votePost(4313493,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">1</span>
    </div>
    <div class="buryit">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
</div>
<div class="clear"></div>
推荐阅读<div id="post_next_prev"><a href="http://www.cnblogs.com/LiZhiW/p/4310562.html" class="p_n_p_prefix" target="_blank">« </a> 上一篇：<a href="http://www.cnblogs.com/LiZhiW/p/4310562.html" title="发布于2015-03-03 11:38" target="_blank">01.C#核心语法</a><br><a href="http://www.cnblogs.com/LiZhiW/p/4313789.html" class="p_n_p_prefix" target="_blank">» </a> 下一篇：<a href="http://www.cnblogs.com/LiZhiW/p/4313789.html" title="发布于2015-03-04 16:56" target="_blank">Apache POI使用详解</a></div>
</div>


	<div class="postDesc">posted on <span id="post-date">2015-03-04 15:33</span> <a href="http://www.cnblogs.com/LiZhiW/">程序人生2014</a> 阅读(<span id="post_view_count">1834</span>) 评论(<span id="post_comment_count">0</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=4313493" rel="nofollow">编辑</a> <a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#" onclick="AddToWz(4313493);return false;">收藏</a></div>
</div>
<script type="text/javascript">var allowComments=true,cb_blogId=175039,cb_entryId=4313493,cb_blogApp=currentBlogApp,cb_blogUserGuid='c2de9e33-5b85-e311-8d02-90b11c0b17d6',cb_entryCreatedDate='2015/3/4 15:33:00';loadViewCount(cb_entryId);</script>

</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#" onclick="return RefreshPage();">刷新页面</a><a href="http://www.cnblogs.com/LiZhiW/p/4313493.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="http://arcapp.anruichina.com/arctrac/trac?tid=smb_azure_1212_CNBlog" target="_blank">【福利】微软Azure给博客园的你专属双重好礼</a><br><a href="http://rongcloud.cn/reports/journal2" target="_blank">【推荐】融云发布 App 社交化白皮书 IM 提升活跃超 8 倍</a><br><a href="http://bbs.h3bpm.com/index.php?m=app&app=product_download&a=reg" target="_blank">【推荐】BPM免费下载</a><br></div>
<div id="opt_under_post"></div>
<div id="ad_c1" class="c_ad_block"><a href="http://wijmo.gcpowertools.com.cn/microsoft-dynamics-adds-mobile-controls-powered-by-wijmo-5/?utm_source=cnblogs&utm_medium=blogpage&utm_term=bottom&utm_content=wijmo&utm_campaign=community" target="_blank"><img width="300" height="250" src="./XStream使用详解 - 程序人生2014 - 博客园_files/24442-20161031104659986-254946751.jpg" alt=""></a></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/559626/" target="_blank">Twitter错误标高广告数据 35%，主动退款给广告主</a><br> ·  <a href="http://news.cnblogs.com/n/559628/" target="_blank">知乎告微博大号侵权背后的细节告诉我们：删帖子易，破保护伞难</a><br> ·  <a href="http://news.cnblogs.com/n/559625/" target="_blank">明年Google将发布两款智能手表，支持Android Pay</a><br> ·  <a href="http://news.cnblogs.com/n/559639/" target="_blank">免费办公软件LibreOffice 5.2.4发布下载</a><br> ·  <a href="http://news.cnblogs.com/n/559638/" target="_blank">法国建世界首条太阳能公路：一公里3600万元</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="ad_c2" class="c_ad_block"><a href="http://bbs.h3bpm.com/index.php?m=app&app=product_download&a=reg" target="_blank"><img width="468" height="60" src="./XStream使用详解 - 程序人生2014 - 博客园_files/35695-20161213142353073-1602158633.jpg" alt=""></a></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/556770/" target="_blank">写给未来的程序媛</a><br> ·  <a href="http://kb.cnblogs.com/page/558087/" target="_blank">高质量的工程代码为什么难写</a><br> ·  <a href="http://kb.cnblogs.com/page/555750/" target="_blank">循序渐进地代码重构</a><br> ·  <a href="http://kb.cnblogs.com/page/554496/" target="_blank">技术的正宗与野路子</a><br> ·  <a href="http://kb.cnblogs.com/page/553682/" target="_blank">陈皓：什么是工程师文化？</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


		</div>
	</div>
	<!-- left ends -->
	<!-- right starts -->
	<div id="right">
		<!-- 右侧工具部分 -->
		<div id="right_content">
	
			
<!--done-->
<h2 class="listtitle">公告</h2>
<div class="newsItem">
	<div id="blog-news"><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/LiZhiW/" target="_blank">程序人生2014</a><br>园龄：<a href="http://home.cnblogs.com/u/LiZhiW/" title="入园时间：2014-01-25" target="_blank">2年10个月</a><br>粉丝：<a href="http://home.cnblogs.com/u/LiZhiW/followers/" target="_blank">111</a><br>关注：<a href="http://home.cnblogs.com/u/LiZhiW/followees/" target="_blank">7</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow(&#39;c2de9e33-5b85-e311-8d02-90b11c0b17d6&#39;)" target="_blank">+加关注</a></div></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

	
			<div id="calendar"><div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2016/11/01&#39;);return false;" target="_blank">&lt;</a></td><td align="center">2016年12月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2017/01/01&#39;);return false;" target="_blank">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td align="center">2</td><td class="CalWeekendDay" align="center">3</td></tr><tr><td class="CalWeekendDay" align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td class="CalWeekendDay" align="center">10</td></tr><tr><td class="CalWeekendDay" align="center">11</td><td align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td align="center">16</td><td class="CalWeekendDay" align="center">17</td></tr><tr><td class="CalWeekendDay" align="center">18</td><td align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td class="CalTodayDay" align="center">23</td><td class="CalWeekendDay" align="center">24</td></tr><tr><td class="CalWeekendDay" align="center">25</td><td align="center">26</td><td align="center">27</td><td align="center">28</td><td align="center">29</td><td align="center">30</td><td class="CalWeekendDay" align="center">31</td></tr><tr><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td><td class="CalOtherMonthDay" align="center">7</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
				<div id="leftcontentcontainer">
					<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="http://www.cnblogs.com/LiZhiW/p/" title="我的博客的随笔列表" target="_blank">我的随笔</a></li><li><a href="http://www.cnblogs.com/LiZhiW/MyComments.html" title="我发表过的评论列表" target="_blank">我的评论</a></li><li><a href="http://www.cnblogs.com/LiZhiW/OtherPosts.html" title="我评论过的随笔列表" target="_blank">我的参与</a></li><li><a href="http://www.cnblogs.com/LiZhiW/RecentComments.html" title="我的博客的评论列表" target="_blank">最新评论</a></li><li><a href="http://www.cnblogs.com/LiZhiW/tag/" title="我的博客的标签列表" target="_blank">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">

</div></div><div id="sidebar_toptags" class="sidebar-block">
<h3 class="catListTitle">我的标签</h3>
<div id="MyTag">
<ul>
<li><a href="http://www.cnblogs.com/LiZhiW/tag/%E5%88%86%E5%B8%83%E5%BC%8F/" target="_blank">分布式</a>(27)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" target="_blank">配置文件</a>(17)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/Java/" target="_blank">Java</a>(14)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/C%23/" target="_blank">C#</a>(13)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/C%23%E5%9F%BA%E7%A1%80/" target="_blank">C#基础</a>(12)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/ZooKeeper/" target="_blank">ZooKeeper</a>(11)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/%E7%BC%93%E5%AD%98/" target="_blank">缓存</a>(8)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/ORM/" target="_blank">ORM</a>(8)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/Hibernate/" target="_blank">Hibernate</a>(6)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/Hibernate%20ORM/" target="_blank">Hibernate ORM</a>(6)</li><li><a href="http://www.cnblogs.com/LiZhiW/tag/" target="_blank">更多</a></li>
</ul>
</div></div><div id="sidebar_categories">
<!--done-->

		<h1 class="catListTitle">随笔分类</h1>
		
				<ul>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_0" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/551681.html" target="_blank">01博客目录(1)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_1" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/742032.html" target="_blank">ActiveMQ(4)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_2" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/732755.html" target="_blank">Apache Ftpserver(2)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_3" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/688051.html" target="_blank">Apache Lucene</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_4" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/655942.html" target="_blank">Apache Server</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_5" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/663055.html" target="_blank">Apache Tomcat(2)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_6" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/550188.html" target="_blank">C#基础(12)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_7" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/742374.html" target="_blank">Elasticsearch(3)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_8" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/655202.html" target="_blank">FastDFS(3)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_9" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/653699.html" target="_blank">Hibernate(6)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_10" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/725539.html" target="_blank">JavaWeb基础(2)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_11" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/553029.html" target="_blank">Java基础</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_12" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/653698.html" target="_blank">Linux</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_13" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/740565.html" target="_blank">Memcached(2)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_14" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/756547.html" target="_blank">MyBatis(2)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_15" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/653697.html" target="_blank">MySQL</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_16" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/655138.html" target="_blank">NHibernate</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_17" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/740497.html" target="_blank">Redis(6)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_18" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/653696.html" target="_blank">Spring</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_19" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/746041.html" target="_blank">ZooKeeper(11)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_20" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/654768.html" target="_blank">常用工具(4)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_21" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/663046.html" target="_blank">读写Excel文件(1)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_22" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/663485.html" target="_blank">系统日志记录(3)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_0_Link_23" class="listitem" href="http://www.cnblogs.com/LiZhiW/category/663000.html" target="_blank">序列化与反序列化(1)</a>
				</li>
			
				</ul>
			
	
		<h1 class="catListTitle">随笔档案</h1>
		
				<ul>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_0" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/11.html" target="_blank">2015年11月 (14)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_1" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/10.html" target="_blank">2015年10月 (14)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_2" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/09.html" target="_blank">2015年9月 (2)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_3" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/08.html" target="_blank">2015年8月 (2)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_4" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/06.html" target="_blank">2015年6月 (3)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_5" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/05.html" target="_blank">2015年5月 (1)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_6" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/03.html" target="_blank">2015年3月 (19)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_7" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/02.html" target="_blank">2015年2月 (8)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_8" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2015/01.html" target="_blank">2015年1月 (1)</a>
				</li>
			
				<li class="catList">
				 <a id="CatList_LinkList_1_Link_9" class="listitem" href="http://www.cnblogs.com/LiZhiW/archive/2014/02.html" target="_blank">2014年2月 (1)</a>
				</li>
			
				</ul>
			
	
</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<h3 class="catListTitle">最新评论</h3>
<div class="RecentComment" id="RecentComments">
	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/LiZhiW/p/4315716.html#3475264" target="_blank">1. Re:05.C#常用IO流与读写文件</a></li>
        <li class="recent_comment_body">写的很好,感觉帮助很大,赞一个~</li>
        <li class="recent_comment_author">--天青涩，再等你~</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/LiZhiW/p/4316650.html#3472712" target="_blank">2. Re:12.C#对象序列化与反序列化</a></li>
        <li class="recent_comment_body">好文，谢谢分享！！！</li>
        <li class="recent_comment_author">--吹鬼灯</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/LiZhiW/p/4926385.html#3381844" target="_blank">3. Re:03.Curator深入使用</a></li>
        <li class="recent_comment_body">mark</li>
        <li class="recent_comment_author">--gepp2010</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/LiZhiW/p/4972309.html#3362989" target="_blank">4. Re:04.ActiveMQ与Spring JMS整合</a></li>
        <li class="recent_comment_body">楼主写的不错,事务管理怎么没写呢？</li>
        <li class="recent_comment_author">--靠谱好青年</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/LiZhiW/p/3542434.html#2874727" target="_blank">5. Re:百度文库下载地址</a></li>
        <li class="recent_comment_body">支持楼主</li>
        <li class="recent_comment_author">--高露洁online</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<h3 class="catListTitle">阅读排行榜</h3>
<div class="RecentComment" id="TopViewPosts"> 
	<div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/LiZhiW/p/4313789.html" target="_blank">1. Apache POI使用详解(2320)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4853486.html" target="_blank">2. 04.spring-data-redis与Jedis整合使用(1875)</a></li><li><a href="./XStream使用详解 - 程序人生2014 - 博客园_files/XStream使用详解 - 程序人生2014 - 博客园.html" target="_blank">3. XStream使用详解(1835)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4923693.html" target="_blank">4. 02.ZooKeeper的Java客户端使用(1037)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4978396.html" target="_blank">5. elasticsearch.yml配置文件(1002)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<h3 class="catListTitle">评论排行榜</h3>
<div class="RecentComment" id="TopCommentsPosts">
	<div id="TopFeedbackPostsBlock"><ul><li><a href="http://www.cnblogs.com/LiZhiW/p/3542434.html" target="_blank">1. 百度文库下载地址(3)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4315716.html" target="_blank">2. 05.C#常用IO流与读写文件(1)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4316650.html" target="_blank">3. 12.C#对象序列化与反序列化(1)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4972309.html" target="_blank">4. 04.ActiveMQ与Spring JMS整合(1)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4926385.html" target="_blank">5. 03.Curator深入使用(1)</a></li></ul></div>
</div></div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<h3 class="catListTitle">推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/LiZhiW/p/4313789.html" target="_blank">1. Apache POI使用详解(10)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/3542434.html" target="_blank">2. 百度文库下载地址(6)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4852930.html" target="_blank">3. 03.RedisJava客户端Jedis的使用(2)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4317198.html" target="_blank">4. Log4Net使用详解(2)</a></li><li><a href="http://www.cnblogs.com/LiZhiW/p/4923693.html" target="_blank">5. 02.ZooKeeper的Java客户端使用(2)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
				</div>
			
		</div>
		<!-- //右侧工具部分 -->
		<div id="footer">
			
<!--done-->
Copyright ©2016 程序人生2014
		</div>
	</div>
	<!-- right ends -->
	<div class="clear"></div>
	
</div>

<!--PageEndHtml Block Begin-->
<!-- 自动生成目录脚本 -->
<script type="text/javascript" src="./XStream使用详解 - 程序人生2014 - 博客园_files/MyPageFooter_24.js"></script>

<script type="text/javascript">
	console.log('JS权限测试！');
</script>
<!--PageEndHtml Block End-->


</body></html>